// This is a manifest file that'll be compiled into application.js, which will include all the files
// listed below.
//
// Any JavaScript/Coffee file within this directory, lib/assets/javascripts, vendor/assets/javascripts,
// or vendor/assets/javascripts of plugins, if any, can be referenced here using a relative path.
//
// It's not advisable to add code directly here, but if you do, it'll appear at the bottom of the
// the compiled file.
//
// WARNING: THE FIRST BLANK LINE MARKS THE END OF WHAT'S TO BE PROCESSED, ANY BLANK LINE SHOULD
// GO AFTER THE REQUIRES BELOW.
// 
// Get dependencies first
//= require ./external/handlebars.js
//= require ./external/lodash.js
//= require ./external/ember.js
//= require ./external/ember-data.js
//= require handlebars_helpers
//= require ./external/typeahead.js
//= require ./external/bootstrap-tag.js
//= require ./external/jquery.isotope.js
//= require ./external/moment/moment.js
//= require geo
//
// Instantiate the application
// 
//= require_self
//= require router.js
//= require_tree ./alooksie/templates
//= require_tree ./alooksie/models
//= require_tree ./alooksie/routes
//= require ./alooksie/controllers/object_controller.js
//= require_tree ./alooksie/controllers
//= require_tree ./alooksie/views
//= require_tree ./alooksie/helpers

App = Ember.Application.create({
	rootElement: '#root',
	LOG_TRANSITIONS: true
});
//= require store
/*App.Store = DS.Store.extend({
	adapter: DS.FixtureAdapter
});*/
// Hack to fix the Facebook redirect bullshit
if(window.location.hash == "#_=_") {
	window.location.hash = '';
}
App.ready = function () {
	console.log(Ember.keys(Ember.TEMPLATES));

	// Set up the active user here
	var store = this.get('store');
	// this.activeUser = this.Store.find('user', 1);
};

$(document).ready(function() {
	var messages = $('.messages');
	
	messages.isotope({
		animation: 'best-available',
		masonry: {
			gutterWidth: 10
		}
	});
});
